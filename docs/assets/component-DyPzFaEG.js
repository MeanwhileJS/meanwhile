import{j as p}from"./jsx-runtime-DBEcOq3S.js";import{r as c}from"./index-DtJulBIN.js";import{c as Y}from"./index-BdQq_4o_.js";import{u as le,c as E}from"./index-CE5k4Bb4.js";import{u as A}from"./index-CtLtbpqE.js";import{c as ue}from"./index-P-l_ls5c.js";import{u as ce}from"./index-C2NFV522.js";import{u as de}from"./index-BRCTM6zp.js";import{u as me}from"./index-DOGCEFcR.js";import{P as T}from"./index-kfRDelSZ.js";import{c as fe}from"./index-w8xf2XUY.js";import{c as pe}from"./utils-B06rK7pa.js";var $=["PageUp","PageDown"],X=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},M="Slider",[N,he,ge]=fe(M),[W,Ue]=ue(M,[ge]),[Se,K]=W(M),J=c.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:l=1,orientation:o="horizontal",disabled:s=!1,minStepsBetweenThumbs:u=0,defaultValue:h=[r],value:b,onValueChange:i=()=>{},onValueCommit:d=()=>{},inverted:S=!1,...x}=e,g=c.useRef(new Set),m=c.useRef(0),P=o==="horizontal"?ve:be,[f=[],y]=le({prop:b,defaultProp:h,onChange:v=>{var _;(_=[...g.current][m.current])==null||_.focus(),i(v)}}),C=c.useRef(f);function L(v){const R=Re(f,v);j(v,R)}function B(v){j(v,m.current)}function se(){const v=C.current[m.current];f[m.current]!==v&&d(f)}function j(v,R,{commit:_}={commit:!1}){const F=De(l),k=Ee(Math.round((v-r)/l)*l+r,F),I=Y(k,[r,a]);y((D=[])=>{const V=ye(D,I,R);if(_e(V,u*l)){m.current=V.indexOf(I);const U=String(V)!==String(D);return U&&_&&d(V),U?V:D}else return D})}return p.jsx(Se,{scope:e.__scopeSlider,name:n,disabled:s,min:r,max:a,valueIndexToChangeRef:m,thumbs:g.current,values:f,orientation:o,children:p.jsx(N.Provider,{scope:e.__scopeSlider,children:p.jsx(N.Slot,{scope:e.__scopeSlider,children:p.jsx(P,{"aria-disabled":s,"data-disabled":s?"":void 0,...x,ref:t,onPointerDown:E(x.onPointerDown,()=>{s||(C.current=f)}),min:r,max:a,inverted:S,onSlideStart:s?void 0:L,onSlideMove:s?void 0:B,onSlideEnd:s?void 0:se,onHomeKeyDown:()=>!s&&j(r,0,{commit:!0}),onEndKeyDown:()=>!s&&j(a,f.length-1,{commit:!0}),onStepKeyDown:({event:v,direction:R})=>{if(!s){const k=$.includes(v.key)||v.shiftKey&&X.includes(v.key)?10:1,I=m.current,D=f[I],V=l*k*R;j(D+V,I,{commit:!0})}}})})})})});J.displayName=M;var[Q,Z]=W(M,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ve=c.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:l,onSlideStart:o,onSlideMove:s,onSlideEnd:u,onStepKeyDown:h,...b}=e,[i,d]=c.useState(null),S=A(t,f=>d(f)),x=c.useRef(),g=ce(a),m=g==="ltr",w=m&&!l||!m&&l;function P(f){const y=x.current||i.getBoundingClientRect(),C=[0,y.width],B=O(C,w?[n,r]:[r,n]);return x.current=y,B(f-y.left)}return p.jsx(Q,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:p.jsx(ee,{dir:g,"data-orientation":"horizontal",...b,ref:S,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:f=>{const y=P(f.clientX);o==null||o(y)},onSlideMove:f=>{const y=P(f.clientX);s==null||s(y)},onSlideEnd:()=>{x.current=void 0,u==null||u()},onStepKeyDown:f=>{const C=G[w?"from-left":"from-right"].includes(f.key);h==null||h({event:f,direction:C?-1:1})}})})}),be=c.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:l,onSlideMove:o,onSlideEnd:s,onStepKeyDown:u,...h}=e,b=c.useRef(null),i=A(t,b),d=c.useRef(),S=!a;function x(g){const m=d.current||b.current.getBoundingClientRect(),w=[0,m.height],f=O(w,S?[r,n]:[n,r]);return d.current=m,f(g-m.top)}return p.jsx(Q,{scope:e.__scopeSlider,startEdge:S?"bottom":"top",endEdge:S?"top":"bottom",size:"height",direction:S?1:-1,children:p.jsx(ee,{"data-orientation":"vertical",...h,ref:i,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const m=x(g.clientY);l==null||l(m)},onSlideMove:g=>{const m=x(g.clientY);o==null||o(m)},onSlideEnd:()=>{d.current=void 0,s==null||s()},onStepKeyDown:g=>{const w=G[S?"from-bottom":"from-top"].includes(g.key);u==null||u({event:g,direction:w?-1:1})}})})}),ee=c.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:o,onEndKeyDown:s,onStepKeyDown:u,...h}=e,b=K(M,n);return p.jsx(T.span,{...h,ref:t,onKeyDown:E(e.onKeyDown,i=>{i.key==="Home"?(o(i),i.preventDefault()):i.key==="End"?(s(i),i.preventDefault()):$.concat(X).includes(i.key)&&(u(i),i.preventDefault())}),onPointerDown:E(e.onPointerDown,i=>{const d=i.target;d.setPointerCapture(i.pointerId),i.preventDefault(),b.thumbs.has(d)?d.focus():r(i)}),onPointerMove:E(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&a(i)}),onPointerUp:E(e.onPointerUp,i=>{const d=i.target;d.hasPointerCapture(i.pointerId)&&(d.releasePointerCapture(i.pointerId),l(i))})})}),te="SliderTrack",ne=c.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=K(te,n);return p.jsx(T.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});ne.displayName=te;var q="SliderRange",re=c.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=K(q,n),l=Z(q,n),o=c.useRef(null),s=A(t,o),u=a.values.length,h=a.values.map(d=>ae(d,a.min,a.max)),b=u>1?Math.min(...h):0,i=100-Math.max(...h);return p.jsx(T.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:s,style:{...e.style,[l.startEdge]:b+"%",[l.endEdge]:i+"%"}})});re.displayName=q;var H="SliderThumb",oe=c.forwardRef((e,t)=>{const n=he(e.__scopeSlider),[r,a]=c.useState(null),l=A(t,s=>a(s)),o=c.useMemo(()=>r?n().findIndex(s=>s.ref.current===r):-1,[n,r]);return p.jsx(xe,{...e,ref:l,index:o})}),xe=c.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...l}=e,o=K(H,n),s=Z(H,n),[u,h]=c.useState(null),b=A(t,P=>h(P)),i=u?!!u.closest("form"):!0,d=me(u),S=o.values[r],x=S===void 0?0:ae(S,o.min,o.max),g=Pe(r,o.values.length),m=d==null?void 0:d[s.size],w=m?Ve(m,x,s.direction):0;return c.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${x}% + ${w}px)`},children:[p.jsx(N.ItemSlot,{scope:e.__scopeSlider,children:p.jsx(T.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":o.min,"aria-valuenow":S,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...l,ref:b,style:S===void 0?{display:"none"}:e.style,onFocus:E(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),i&&p.jsx(we,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),value:S},r)]})});oe.displayName=H;var we=e=>{const{value:t,...n}=e,r=c.useRef(null),a=de(t);return c.useEffect(()=>{const l=r.current,o=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==t&&u){const h=new Event("input",{bubbles:!0});u.call(l,t),l.dispatchEvent(h)}},[a,t]),p.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function ye(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,l)=>a-l)}function ae(e,t,n){const l=100/(n-t)*(e-t);return Y(l,[0,100])}function Pe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Re(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function Ve(e,t,n){const r=e/2,l=O([0,50],[0,r]);return(r-l(t)*n)*n}function Ce(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function _e(e,t){if(t>0){const n=Ce(e);return Math.min(...n)>=t}return!0}function O(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function De(e){return(String(e).split(".")[1]||"").length}function Ee(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var ie=J,Me=ne,je=re,Ie=oe;const z=c.forwardRef(({className:e,...t},n)=>p.jsxs(ie,{ref:n,className:pe("relative flex w-full touch-none select-none items-center",e),...t,children:[p.jsx(Me,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(je,{className:"absolute h-full bg-primary"})}),p.jsx(Ie,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));z.displayName=ie.displayName;try{z.displayName="Slider",z.__docgenInfo={description:"",displayName:"Slider",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},defaultValue:{defaultValue:null,description:"",name:"defaultValue",required:!1,type:{name:"number[]"}},dir:{defaultValue:null,description:"",name:"dir",required:!1,type:{name:"enum",value:[{value:'"ltr"'},{value:'"rtl"'}]}},step:{defaultValue:null,description:"",name:"step",required:!1,type:{name:"number"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"number[]"}},max:{defaultValue:null,description:"",name:"max",required:!1,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!1,type:{name:"number"}},orientation:{defaultValue:null,description:"",name:"orientation",required:!1,type:{name:"enum",value:[{value:'"horizontal"'},{value:'"vertical"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onValueChange:{defaultValue:null,description:"",name:"onValueChange",required:!1,type:{name:"(value: number[]) => void"}},inverted:{defaultValue:null,description:"",name:"inverted",required:!1,type:{name:"boolean"}},minStepsBetweenThumbs:{defaultValue:null,description:"",name:"minStepsBetweenThumbs",required:!1,type:{name:"number"}},onValueCommit:{defaultValue:null,description:"",name:"onValueCommit",required:!1,type:{name:"(value: number[]) => void"}}}}}catch{}export{z as S};
