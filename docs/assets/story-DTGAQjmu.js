import{j as m}from"./jsx-runtime-DBEcOq3S.js";import{r}from"./index-DtJulBIN.js";import{c as b}from"./utils-B06rK7pa.js";import{u as v,m as C,M as x,i as g,f as k,a as R,b as S,c as j,d as h}from"./motion-nEuxSAi1.js";import{c as T}from"./index-Bb4qSo10.js";import"./_commonjsHelpers-BosuxZz1.js";function _(e){const s=v(()=>C(e)),{isStatic:o}=r.useContext(x);if(o){const[,a]=r.useState(e);r.useEffect(()=>s.on("change",a),[])}return s}function y(e){return typeof e=="number"?e:parseFloat(e)}function E(e,s={}){const{isStatic:o}=r.useContext(x),a=r.useRef(null),t=_(g(e)?y(e.get()):e),c=r.useRef(t.get()),l=r.useRef(()=>{}),u=()=>{const n=a.current;n&&n.time===0&&n.sample(S.delta),i(),a.current=j({keyframes:[t.get(),c.current],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:l.current})},i=()=>{a.current&&a.current.stop()};return r.useInsertionEffect(()=>t.attach((n,f)=>o?f(n):(c.current=n,l.current=f,k.update(u),t.get()),i),[JSON.stringify(s)]),R(()=>{if(g(e))return e.on("change",n=>t.set(y(n)))},[t]),t}function M({value:e,index:s,total:o,delay:a,className:t,getHeight:c}){const l=r.useRef(null),u=_(0),i=E(u,{stiffness:150-s*2,damping:15}),n=String(+e)!==e;return r.useEffect(()=>{if(n||!l.current)return;const f=()=>{const N=c();i.set(-N*+e)};if(!a){f();return}const p=setTimeout(f,(o-s)*Math.floor(Math.random()*a));return()=>clearTimeout(p)},[e,n,i,c,s,o,a]),n?m.jsx("span",{children:e}):m.jsx(h.div,{ref:l,style:{translateY:i},children:Array.from({length:10}).map((f,p)=>m.jsx(h.div,{className:t,children:p},p))})}function d({value:e,delay:s,className:o,numberClassName:a}){const t=String(e).trim().split(""),c=r.useRef(null),l=r.useCallback(()=>{var u;return((u=c.current)==null?void 0:u.getBoundingClientRect().height)??0},[]);return m.jsxs("div",{className:b("relative overflow-hidden whitespace-pre tabular-nums text-foreground",o),children:[m.jsx("div",{className:"absolute inset-0 flex min-w-fit",children:t.map((u,i)=>m.jsx(M,{getHeight:l,index:i,value:u,total:t.length,className:a,delay:s},i))}),m.jsx("div",{ref:c,className:"invisible min-w-fit",children:e})]})}try{d.displayName="Ticker",d.__docgenInfo={description:"",displayName:"Ticker",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},numberClassName:{defaultValue:null,description:"",name:"numberClassName",required:!1,type:{name:"string"}},delay:{defaultValue:null,description:"",name:"delay",required:!1,type:{name:"number"}}}}}catch{}const V=T([],{variants:{},defaultVariants:{}});try{V.displayName="tickerVariants",V.__docgenInfo={description:"",displayName:"tickerVariants",props:{class:{defaultValue:null,description:"",name:"class",required:!1,type:{name:"ClassValue"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"ClassValue"}}}}}catch{}const B={title:"Third Party/Animata/Ticker",tags:["autodoc"],component:d},F={args:{className:"text-4xl md:text-7xl font-black",value:"456.78"}};export{F as Default,B as default};
