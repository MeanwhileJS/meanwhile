import{r as n}from"./index-DtJulBIN.js";import{c as I}from"./index-P-l_ls5c.js";import{u as w}from"./index-D56hIVKb.js";import{u as v}from"./index-DD28LpFH.js";import{P as m}from"./index-kfRDelSZ.js";import{j as c}from"./jsx-runtime-DBEcOq3S.js";var l="Avatar",[C,P]=I(l),[R,f]=C(l),p=n.forwardRef((t,s)=>{const{__scopeAvatar:e,...a}=t,[r,o]=n.useState("idle");return c.jsx(R,{scope:e,imageLoadingStatus:r,onImageLoadingStatusChange:o,children:c.jsx(m.span,{...a,ref:s})})});p.displayName=l;var A="AvatarImage",S=n.forwardRef((t,s)=>{const{__scopeAvatar:e,src:a,onLoadingStatusChange:r=()=>{},...o}=t,d=f(A,e),i=_(a),u=w(g=>{r(g),d.onImageLoadingStatusChange(g)});return v(()=>{i!=="idle"&&u(i)},[i,u]),i==="loaded"?c.jsx(m.img,{...o,ref:s,src:a}):null});S.displayName=A;var x="AvatarFallback",L=n.forwardRef((t,s)=>{const{__scopeAvatar:e,delayMs:a,...r}=t,o=f(x,e),[d,i]=n.useState(a===void 0);return n.useEffect(()=>{if(a!==void 0){const u=window.setTimeout(()=>i(!0),a);return()=>window.clearTimeout(u)}},[a]),d&&o.imageLoadingStatus!=="loaded"?c.jsx(m.span,{...r,ref:s}):null});L.displayName=x;function _(t){const[s,e]=n.useState("idle");return v(()=>{if(!t){e("error");return}let a=!0;const r=new window.Image,o=d=>()=>{a&&e(d)};return e("loading"),r.onload=o("loaded"),r.onerror=o("error"),r.src=t,()=>{a=!1}},[t]),s}var k=p,y=S,F=L;export{p as A,F,y as I,k as R,S as a,L as b};
