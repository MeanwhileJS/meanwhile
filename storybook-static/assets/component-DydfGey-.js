import{j as p}from"./jsx-runtime-DBEcOq3S.js";import{r as a}from"./index-DtJulBIN.js";import{c as x,u as Y}from"./index-CE5k4Bb4.js";import{u as M,a as X}from"./index-CtLtbpqE.js";import{c as J}from"./index-P-l_ls5c.js";import{D as Q}from"./index-DHeTOPrK.js";import{u as Z}from"./index-xu9aqoQg.js";import{c as S,A as ee,C as te,a as oe,R as ne}from"./index-B6A3gL4M.js";import{P as re}from"./index-ChMhjsiA.js";import{P as ae}from"./index-kfRDelSZ.js";import{R as le}from"./index-bChm2ps_.js";import{c as ie}from"./utils-B06rK7pa.js";var[E,He]=J("Tooltip",[S]),R=S(),G="TooltipProvider",se=700,V="tooltip.open",[ue,A]=E(G),B=e=>{const{__scopeTooltip:o,delayDuration:t=se,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:i}=e,[u,f]=a.useState(!0),l=a.useRef(!1),c=a.useRef(0);return a.useEffect(()=>{const s=c.current;return()=>window.clearTimeout(s)},[]),p.jsx(ue,{scope:o,isOpenDelayed:u,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(c.current),f(!1)},[]),onClose:a.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>f(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:a.useCallback(s=>{l.current=s},[]),disableHoverableContent:r,children:i})};B.displayName=G;var D="Tooltip",[ce,O]=E(D),F=e=>{const{__scopeTooltip:o,children:t,open:n,defaultOpen:r=!1,onOpenChange:i,disableHoverableContent:u,delayDuration:f}=e,l=A(D,e.__scopeTooltip),c=R(o),[s,d]=a.useState(null),v=Z(),m=a.useRef(0),h=u??l.disableHoverableContent,g=f??l.delayDuration,y=a.useRef(!1),[b=!1,T]=Y({prop:n,defaultProp:r,onChange:L=>{L?(l.onOpen(),document.dispatchEvent(new CustomEvent(V))):l.onClose(),i==null||i(L)}}),w=a.useMemo(()=>b?y.current?"delayed-open":"instant-open":"closed",[b]),_=a.useCallback(()=>{window.clearTimeout(m.current),y.current=!1,T(!0)},[T]),P=a.useCallback(()=>{window.clearTimeout(m.current),T(!1)},[T]),N=a.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{y.current=!0,T(!0)},g)},[g,T]);return a.useEffect(()=>()=>window.clearTimeout(m.current),[]),p.jsx(ne,{...c,children:p.jsx(ce,{scope:o,contentId:v,open:b,stateAttribute:w,trigger:s,onTriggerChange:d,onTriggerEnter:a.useCallback(()=>{l.isOpenDelayed?N():_()},[l.isOpenDelayed,N,_]),onTriggerLeave:a.useCallback(()=>{h?P():window.clearTimeout(m.current)},[P,h]),onOpen:_,onClose:P,disableHoverableContent:h,children:t})})};F.displayName=D;var k="TooltipTrigger",U=a.forwardRef((e,o)=>{const{__scopeTooltip:t,...n}=e,r=O(k,t),i=A(k,t),u=R(t),f=a.useRef(null),l=M(o,f,r.onTriggerChange),c=a.useRef(!1),s=a.useRef(!1),d=a.useCallback(()=>c.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(ee,{asChild:!0,...u,children:p.jsx(ae.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:l,onPointerMove:x(e.onPointerMove,v=>{v.pointerType!=="touch"&&!s.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),s.current=!0)}),onPointerLeave:x(e.onPointerLeave,()=>{r.onTriggerLeave(),s.current=!1}),onPointerDown:x(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:x(e.onFocus,()=>{c.current||r.onOpen()}),onBlur:x(e.onBlur,r.onClose),onClick:x(e.onClick,r.onClose)})})});U.displayName=k;var de="TooltipPortal",[Me,pe]=E(de,{forceMount:void 0}),C="TooltipContent",W=a.forwardRef((e,o)=>{const t=pe(C,e.__scopeTooltip),{forceMount:n=t.forceMount,side:r="top",...i}=e,u=O(C,e.__scopeTooltip);return p.jsx(re,{present:n||u.open,children:u.disableHoverableContent?p.jsx(z,{side:r,...i,ref:o}):p.jsx(fe,{side:r,...i,ref:o})})}),fe=a.forwardRef((e,o)=>{const t=O(C,e.__scopeTooltip),n=A(C,e.__scopeTooltip),r=a.useRef(null),i=M(o,r),[u,f]=a.useState(null),{trigger:l,onClose:c}=t,s=r.current,{onPointerInTransitChange:d}=n,v=a.useCallback(()=>{f(null),d(!1)},[d]),m=a.useCallback((h,g)=>{const y=h.currentTarget,b={x:h.clientX,y:h.clientY},T=ye(b,y.getBoundingClientRect()),w=ge(b,T),_=Te(g.getBoundingClientRect()),P=xe([...w,..._]);f(P),d(!0)},[d]);return a.useEffect(()=>()=>v(),[v]),a.useEffect(()=>{if(l&&s){const h=y=>m(y,s),g=y=>m(y,l);return l.addEventListener("pointerleave",h),s.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",h),s.removeEventListener("pointerleave",g)}}},[l,s,m,v]),a.useEffect(()=>{if(u){const h=g=>{const y=g.target,b={x:g.clientX,y:g.clientY},T=(l==null?void 0:l.contains(y))||(s==null?void 0:s.contains(y)),w=!be(b,u);T?v():w&&(v(),c())};return document.addEventListener("pointermove",h),()=>document.removeEventListener("pointermove",h)}},[l,s,u,c,v]),p.jsx(z,{...e,ref:i})}),[me,he]=E(D,{isInside:!1}),z=a.forwardRef((e,o)=>{const{__scopeTooltip:t,children:n,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:u,...f}=e,l=O(C,t),c=R(t),{onClose:s}=l;return a.useEffect(()=>(document.addEventListener(V,s),()=>document.removeEventListener(V,s)),[s]),a.useEffect(()=>{if(l.trigger){const d=v=>{const m=v.target;m!=null&&m.contains(l.trigger)&&s()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,s]),p.jsx(Q,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:u,onFocusOutside:d=>d.preventDefault(),onDismiss:s,children:p.jsxs(te,{"data-state":l.stateAttribute,...c,...f,ref:o,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(X,{children:n}),p.jsx(me,{scope:t,isInside:!0,children:p.jsx(le,{id:l.contentId,role:"tooltip",children:r||n})})]})})});W.displayName=C;var K="TooltipArrow",ve=a.forwardRef((e,o)=>{const{__scopeTooltip:t,...n}=e,r=R(t);return he(K,t).isInside?null:p.jsx(oe,{...r,...n,ref:o})});ve.displayName=K;function ye(e,o){const t=Math.abs(o.top-e.y),n=Math.abs(o.bottom-e.y),r=Math.abs(o.right-e.x),i=Math.abs(o.left-e.x);switch(Math.min(t,n,r,i)){case i:return"left";case r:return"right";case t:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function ge(e,o,t=5){const n=[];switch(o){case"top":n.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":n.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":n.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":n.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return n}function Te(e){const{top:o,right:t,bottom:n,left:r}=e;return[{x:r,y:o},{x:t,y:o},{x:t,y:n},{x:r,y:n}]}function be(e,o){const{x:t,y:n}=e;let r=!1;for(let i=0,u=o.length-1;i<o.length;u=i++){const f=o[i].x,l=o[i].y,c=o[u].x,s=o[u].y;l>n!=s>n&&t<(c-f)*(n-l)/(s-l)+f&&(r=!r)}return r}function xe(e){const o=e.slice();return o.sort((t,n)=>t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0),Ce(o)}function Ce(e){if(e.length<=1)return e.slice();const o=[];for(let n=0;n<e.length;n++){const r=e[n];for(;o.length>=2;){const i=o[o.length-1],u=o[o.length-2];if((i.x-u.x)*(r.y-u.y)>=(i.y-u.y)*(r.x-u.x))o.pop();else break}o.push(r)}o.pop();const t=[];for(let n=e.length-1;n>=0;n--){const r=e[n];for(;t.length>=2;){const i=t[t.length-1],u=t[t.length-2];if((i.x-u.x)*(r.y-u.y)>=(i.y-u.y)*(r.x-u.x))t.pop();else break}t.push(r)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}var we=B,_e=F,Pe=U,$=W;const I=we,j=_e,H=Pe,q=a.forwardRef(({className:e,sideOffset:o=4,...t},n)=>p.jsx($,{ref:n,sideOffset:o,className:ie("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));q.displayName=$.displayName;try{j.displayName="Tooltip",j.__docgenInfo={description:"",displayName:"Tooltip",props:{open:{defaultValue:null,description:"",name:"open",required:!1,type:{name:"boolean"}},defaultOpen:{defaultValue:null,description:"",name:"defaultOpen",required:!1,type:{name:"boolean"}},onOpenChange:{defaultValue:null,description:"",name:"onOpenChange",required:!1,type:{name:"(open: boolean) => void"}},delayDuration:{defaultValue:null,description:`The duration from when the pointer enters the trigger until the tooltip gets opened. This will
override the prop with the same name passed to Provider.
@defaultValue 700`,name:"delayDuration",required:!1,type:{name:"number"}},disableHoverableContent:{defaultValue:null,description:"When `true`, trying to hover the content will result in the tooltip closing as the pointer leaves the trigger.\n@defaultValue false",name:"disableHoverableContent",required:!1,type:{name:"boolean"}}}}}catch{}try{H.displayName="TooltipTrigger",H.__docgenInfo={description:"",displayName:"TooltipTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{q.displayName="TooltipContent",q.__docgenInfo={description:"",displayName:"TooltipContent",props:{"aria-label":{defaultValue:null,description:"A more descriptive label for accessibility purpose",name:"aria-label",required:!1,type:{name:"string"}},asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"end"'},{value:'"start"'}]}},onEscapeKeyDown:{defaultValue:null,description:`Event handler called when the escape key is down.
Can be prevented.`,name:"onEscapeKeyDown",required:!1,type:{name:"(event: KeyboardEvent) => void"}},forceMount:{defaultValue:null,description:`Used to force mounting when more control is needed. Useful when
controlling animation with React animation libraries.`,name:"forceMount",required:!1,type:{name:"true"}},onPointerDownOutside:{defaultValue:null,description:"Event handler called when the a `pointerdown` event happens outside of the `Tooltip`.\nCan be prevented.",name:"onPointerDownOutside",required:!1,type:{name:"(event: PointerDownOutsideEvent) => void"}},side:{defaultValue:null,description:"",name:"side",required:!1,type:{name:"enum",value:[{value:'"top"'},{value:'"bottom"'},{value:'"left"'},{value:'"right"'}]}},sideOffset:{defaultValue:{value:"4"},description:"",name:"sideOffset",required:!1,type:{name:"number"}},alignOffset:{defaultValue:null,description:"",name:"alignOffset",required:!1,type:{name:"number"}},arrowPadding:{defaultValue:null,description:"",name:"arrowPadding",required:!1,type:{name:"number"}},avoidCollisions:{defaultValue:null,description:"",name:"avoidCollisions",required:!1,type:{name:"boolean"}},collisionBoundary:{defaultValue:null,description:"",name:"collisionBoundary",required:!1,type:{name:"Element | Element[]"}},collisionPadding:{defaultValue:null,description:"",name:"collisionPadding",required:!1,type:{name:'number | Partial<Record<"top" | "bottom" | "left" | "right", number>>'}},sticky:{defaultValue:null,description:"",name:"sticky",required:!1,type:{name:"enum",value:[{value:'"always"'},{value:'"partial"'}]}},hideWhenDetached:{defaultValue:null,description:"",name:"hideWhenDetached",required:!1,type:{name:"boolean"}},updatePositionStrategy:{defaultValue:null,description:"",name:"updatePositionStrategy",required:!1,type:{name:"enum",value:[{value:'"always"'},{value:'"optimized"'}]}}}}}catch{}try{I.displayName="TooltipProvider",I.__docgenInfo={description:"",displayName:"TooltipProvider",props:{delayDuration:{defaultValue:null,description:`The duration from when the pointer enters the trigger until the tooltip gets opened.
@defaultValue 700`,name:"delayDuration",required:!1,type:{name:"number"}},skipDelayDuration:{defaultValue:null,description:`How much time a user has to enter another trigger without incurring a delay again.
@defaultValue 300`,name:"skipDelayDuration",required:!1,type:{name:"number"}},disableHoverableContent:{defaultValue:null,description:"When `true`, trying to hover the content will result in the tooltip closing as the pointer leaves the trigger.\n@defaultValue false",name:"disableHoverableContent",required:!1,type:{name:"boolean"}}}}}catch{}export{j as T,H as a,q as b,I as c};
